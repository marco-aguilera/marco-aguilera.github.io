<!DOCTYPE html>
<html lang="en">
<link href="https://fonts.googleapis.com/css?family=Roboto:100" rel="stylesheet">

<head>
    <meta charset="utf-8"> <!-- which is a method of converting your typed characters into machine-readable code -->
    <link rel="stylesheet" href="contact.css">


</head>

<!-- <header>

        <div class="header-right">
            <a href="index.html">Home</a>
            <a href="about.html">About</a>
            <a href="resume.html">Resume</a>
            <a href="contact.html">Contact</a>
        </div>

</header> -->

<body>

    <nav>
        <h2>Marco Aguilera</h2>
        <ul class="navigation">
            <li><a href="index.html" class="nav-link">Home</a></li>
            <li><a href="about.html" class="nav-link">About</a></li>
            <li><a href="resume.html" class="nav-link">Resume</a></li>
            <li><a href="contact.html" class="nav-link">Contact</a></li>
        </ul>
        <button class="burger-menu" id="burger-menu">
            <ion-icon class="bars" name="menu-outline"></ion-icon>
        </button>
    </nav>
    
 
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>

    <div class="container">
        <form id="contact" method="post">
            <h3>Contact me for custom quote</h3>
            <fieldset>
                <input placeholder="Your name" type="text" tabindex="1" required autofocus class="username" />
            </fieldset>
            <fieldset>
                <input placeholder="Your Email Address" type="email" tabindex="2" required class="email" />
            </fieldset>
            <fieldset>
                <textarea placeholder="Type your message here...." tabindex="5" required class="message"></textarea>
            </fieldset>
            <fieldset>
                <button name="submit" type="submit" id="contact-submit" data-submit="...Sending" class="submit">
                    Submit
                </button>
            </fieldset>
        </form>
    </div>

    <div class="loader">
        <img src="https://media.giphy.com/media/MEiZ5h8lOkM7rwideE/giphy.gif" alt="" />
    </div>


<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
<script src="//cdn.jsdelivr.net/npm/sweetalert2@10"></script>
<script type="text/javascript">
    // User ID
    // user_id
    // Access Token
    // random_access-token

     (function () {
            emailjs.init("user_4qIACLGtgbqKgwOagE6me");
     })();

    
    //   emailjs.send("service_lgbvkcv", "template_yhwcdb9", {
    //     to_name: "username",
    //     from_name: "email",
    //     message: "message",
    //   });
     

    function validate() {
        let loader = document.querySelector(".loader");
        let name = document.querySelector(".username");
        let email = document.querySelector(".email");
        let msg = document.querySelector(".message");
        let btn = document.querySelector(".submit");

        btn.addEventListener("click", (e) => {
            e.preventDefault();
            if (name.value == "" || email.value == "" || msg.value == "") {
                emptyerror();
            } else {
                loader.style.display = "flex";
                sendmail(name.value, email.value, msg.value);
                success();
                loader.style.display = "none";
            }
            
        });
    }
    validate();

    function sendmail(name, email, msg) {
        emailjs.send("service_lgbvkcv", "template_yhwcdb9", {
            to_name: name,
            from_name: email,
            message: msg,
        });
    }

    function emptyerror() {
        Swal.fire({
            icon: "error",
            title: "Oops...",
            text: "Fields cannot be empty!",
        });
    }

    function error() {
        Swal.fire({
            icon: "error",
            title: "Oops...",
            text: "Something went wrong!",
        });
    }

    function success() {
        Swal.fire({
            icon: "success",
            title: "Success...",
            text: "Successfully sent message",
        });
    }
</script>

</body>

<footer>

    <div class="footer">

    </div>

</footer>

</html>